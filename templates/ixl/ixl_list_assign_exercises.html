{% extends "brain/layout.html" %}

{% block title %}{{ classroom }} IXL List{% endblock title %}
{% block categorybar %}
    {% include 'ixl/ixl_lists_category_bar.html' %}
{% endblock %}
{% block heading %}
    <style>
        input[type=text] {
            background-color: #ecf0f1;
            font-weight: bold;
            color: #2c3e50;
            border: 2px solid #2980b9;
            border-radius: 4px;
        }

        .delete-row {
            font-weight: bolder;
            color: #c0392b;
            font-size: .9rem;
        }

        .add-row {
            font-weight: bolder;
            color: #27ae60;
            font-size: 1.1rem;
        {#        margin-top:10px;#}
        }
    </style>

    {% include 'ixl/list_title_header.html' %}

{% endblock heading %}

{% block content %}
    <div class="grid-x grid-padding-x">
        {% load static %}
        {% if messages %}
            <div class="callout primary small 12 cell">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
        {% endif %}

    </div>
    <form method="post">
        {% csrf_token %}
        {{ formset.management_form }}
        <div class="grid-x grid-margin-x">
            <div class="small-12 medium-1 cell"></div>
            <div class="small-12 medium-5 cell">
                {% for form in formset %}
                    <div class="formset grid-x grid-margin-x"
                         style="border: solid gray 1px; margin-bottom: 20px; background-color: #f4f8f9;border-radius: 4px;padding:5px;">
                        <hr>
                        <div class="small-4 cell">
                            {{ form.grade.label }}
                            {{ form.grade }}
                            {% if form.grade.errors %}
                                {% for error in form.grade.errors %}
                                    {{ error|escape }}
                                {% endfor %}
                            {% endif %}
                        </div>

                        <div class="small-4 cell">
                            Code

                            {{ form.id_code }}
                            {% if form.id_code.errors %}
                                {% for error in form.id_code.errors %}
                                    {{ error|escape }}
                                {% endfor %}
                            {% endif %}
                        </div>
                        <div class="small-4 cell">
                            {{ form.required_score.label }}
                            {{ form.required_score }}
                            {% if form.required_score.errors %}
                                {% for error in form.required_score.errors %}
                                    {{ error|escape }}
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                {% endfor %}
                <br>

                <input type="submit" value="Update Exercises" class="button large expanded"/>

            </div>
            <div class="small-12 medium-5 cell">
                <div class="callout alert">
                    <h5><i class="fa fa-bug"></i> Current Bug <i class="fa fa-bug"></i></h5>
                    <p>Right now there's a bug that won't save the list if you leave any rows blank.
                        Before you hit save, delete any unused rows or else it might not work correctly.</p>
                </div>
                <div class=" callout warning">
                    <h5>Adding Exercises</h5>
                <p>Add exercises to your list here.</p>
                <p><b>Grade</b> is entered as one number or digit. 2nd Grade is '2', Kindergarten is 'K', Pre-K is 'P'.
                </p>
                <p><b>Code</b> is IXL's name for for the exercise and includes a Letter and a Number. <em>ex: J.5</em>
                </p>
                <p><b>Required Score</b> is the "Smart Score" that your student must reach for the exercise to be
                    considered complete. Default is 80.</p>
                <p>Click <b>Delete</b> to wipe out an exercise. Be careful, there's no undo. You'll have to enter the
                    exercise again. Luckily, your students won't lose their work from it if you do.</p>
                <p>If you want to add more exercises, click <b>Add Another</b>. There's no limit to how many exercises
                    you can add, but at a certain point it might be better to make different lists.</p>
                <p>Keep in mind, exercises will be assigned to your scholar in the order you enter them here. Use this
                    to scaffold up to harder exercises. You can also assign the same exercise twice, once at 80 and
                    again farther down at 100, to serve as a review in a couple weeks.</p>

                </div>
            </div>
            <div class="small-12 medium-1 cell"></div>

        </div>
        {% if formset.non_form_errors %}
            {% for error in formset.non_form_errors %}
                {{ error|escape }}
            {% endfor %}
        {% endif %}
    </form>




    <!-- Include formset plugin - including jQuery dependency -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="{% static 'js/vendor/jquery.formset.js' %}"></script>
    <script>
        $('.formset').formset({
            addText: '<i class="fa fa-plus"></i> Add Another',
            deleteText: '<i class="fa fa-close"></i> DELETE'
        });
    </script>
{% endblock content %}